{% extends "base.html" %} {% block title %}Products - Invoice Management
System{% endblock %} {% block back_button %}
<a
  href="{{ url_for('seller_dashboard') }}"
  class="btn btn-outline btn-sm back-btn"
>
  <i class="fas fa-arrow-left"></i>
  Back to Dashboard
</a>
{% endblock %} {% block content %}
<div class="dashboard">
  <div class="section-header">
    <h2 class="section-title">Product Management</h2>
    <div class="inline-flex items-center gap-4">
      <form
        method="get"
        action="{{ url_for('seller_products') }}"
        class="inline-flex items-center"
        style="gap: 8px"
      >
        <input
          type="text"
          name="q"
          value="{{ q or '' }}"
          class="form-input"
          placeholder="Search products by name"
        />
        <button type="submit" class="btn btn-outline">Search</button>
        {% if q %}
        <a href="{{ url_for('seller_products') }}" class="btn btn-outline"
          >Clear</a
        >
        {% endif %}
      </form>
      <a href="{{ url_for('add_product') }}" class="btn btn-primary">
        <i class="fas fa-plus"></i>
        Add Product
      </a>
    </div>
  </div>

  {% if products %}
  <div class="card">
    <table class="table">
      <thead>
        <tr>
          <th>Product Name</th>
          <th>Price</th>
          <th>Stock</th>
          <th>Description</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for product in products %}
        <tr>
          <td>
            <div class="product-name">
              <strong>{{ product.name }}</strong>
            </div>
          </td>
          <td>â‚¹{{ "%.2f"|format(product.price) }}</td>
          <td>
            <span
              class="stock-badge {{ 'low-stock' if product.stock < 10 else '' }}"
            >
              {{ product.stock }} units
            </span>
          </td>
          <td class="description-cell">{{ product.description }}</td>
          <td>
            <div class="action-buttons">
              <a
                href="{{ url_for('edit_product', product_id=product.id) }}"
                class="btn btn-outline btn-sm"
              >
                <i class="fas fa-edit"></i>
              </a>
              <a
                href="{{ url_for('delete_product', product_id=product.id) }}"
                class="btn btn-danger btn-sm"
                onclick="return confirm('Are you sure you want to delete this product?')"
              >
                <i class="fas fa-trash"></i>
              </a>
            </div>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% else %}
  <div class="empty-state">
    <i class="fas fa-box empty-state-icon"></i>
    <h3 class="empty-state-title">No Products Found</h3>
    <p class="empty-state-description">
      {% if q %} No products match "{{ q }}". Try a different search. {% else %}
      Start by adding your first product to manage inventory. {% endif %}
    </p>
    <a href="{{ url_for('add_product') }}" class="btn btn-primary">
      <i class="fas fa-plus"></i>
      Add Product
    </a>
  </div>
  {% endif %}
</div>
{% endblock %}
